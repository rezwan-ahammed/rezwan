<!DOCTYPE html>
<html>
<head>
<title>Image Description with Gemini</title>
<style>
  /* ... (CSS styles remain the same) ... */
</style>
</head>
<body>

  {/* ... (HTML structure remains the same) ... */}

<script>
  // ... (Other JavaScript code remains the same) ... 

  describeButton.addEventListener('click', async () => {
    // ... (Image selection and Base64 encoding remain the same) ... 

    descriptionDiv.textContent = 'Generating description...';

    try {
      const response = await fetch( /* ... (API call remains the same) ... */ );

      if (!response.ok) {
        const errorData = await response.json(); // Try to get error details from the response
        const errorMessage = errorData.error?.message || response.statusText; 
        throw new Error(`API request failed: ${response.status} - ${errorMessage}`);
      }

      const data = await response.json();
      const description = data.candidates[0].text;
      descriptionDiv.textContent = description;

    } catch (error) {
      console.error('Error:', error);
      descriptionDiv.textContent = `An error occurred: ${error.message}`; // Display the error message on the page
    }
  });
</script>

</body>
</html>
